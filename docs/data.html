

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data &mdash; REGN 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Training a QRNN" href="notebooks/examples/train_qrnn.html" />
    <link rel="prev" title="Overview" href="overview.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> REGN
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dependencies.html">Required software</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dependencies.html#typhon">Typhon</a></li>
<li class="toctree-l2"><a class="reference internal" href="dependencies.html#pytorch">Pytorch</a></li>
<li class="toctree-l2"><a class="reference internal" href="dependencies.html#jupyter">Jupyter</a></li>
<li class="toctree-l2"><a class="reference internal" href="dependencies.html#regn">regn</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dendrite.html">Dendrite</a></li>
<li class="toctree-l1"><a class="reference internal" href="jupyter_notebook.html">Remote access to jupyter notebooks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="jupyter_notebook.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="jupyter_notebook.html#setting-up-jupyter">Setting up jupyter</a></li>
<li class="toctree-l2"><a class="reference internal" href="jupyter_notebook.html#starting-jupyter">Starting jupyter</a></li>
<li class="toctree-l2"><a class="reference internal" href="jupyter_notebook.html#accessing-the-server">Accessing the server</a></li>
<li class="toctree-l2"><a class="reference internal" href="jupyter_notebook.html#single-command-for-server-start-up">Single command for server start-up</a></li>
<li class="toctree-l2"><a class="reference internal" href="jupyter_notebook.html#alternative-ssh-port-forwarding">Alternative: SSH port forwarding</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#format">Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#restructuredtext">reStructuredText</a></li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#building-the-documentation">Building the documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#viewing-the-documentation">Viewing the documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#including-jupyter-notebooks">Including Jupyter notebooks</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">REGN</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#quantile-regression">Quantile regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#gprof">GProf</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#geostationary-imagery">Geostationary Imagery</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#training-data">Training data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#surface-types">Surface types</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="notebooks/examples/train_qrnn.html">Training a QRNN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="notebooks/examples/train_qrnn.html#Defining-the-QRNN">Defining the QRNN</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/examples/train_qrnn.html#Loading-the-training-data">Loading the training data</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/examples/train_qrnn.html#Training-the-model">Training the model</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/examples/train_qrnn.html#Finally,-we-save-the-model-to-reuse-it-later.">Finally, we save the model to reuse it later.</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/examples/train_qrnn.html#Evaluating-the-QRNN">Evaluating the QRNN</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/examples/train_unet.html">UNet QRNN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="notebooks/examples/train_unet.html#Training-data">Training data</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/examples/train_unet.html#Training">Training</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/examples/train_unet.html#Validation">Validation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/examples/qrnn_classification.html">QRNN as classifier</a><ul>
<li class="toctree-l2"><a class="reference internal" href="notebooks/examples/qrnn_classification.html#Training-data">Training data</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/examples/qrnn_classification.html#Training">Training</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/examples/qrnn_classification.html#Evaluate-classifier">Evaluate classifier</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/examples/qrnn_classification.html#True-probability">True probability</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Results</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="notebooks/classification/test_classification.html">QRNN Classification</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/classification/test_classification.html#Load-QRNN-and-data">Load QRNN and data</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/classification/test_classification.html#Classify-test-data">Classify test data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="notebooks/classification/test_classification.html#Evaluate-performance">Evaluate performance</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.data.html">Datasets and -interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.data.html#gprof-data">GPROF data</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">REGN</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/data.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="data">
<h1>Data<a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h1>
<p>The input data that we are using is the same that is used to build the
retrieval databases for the current version of the GPROF algorithm. For
each sensor in the GPM constellation a separate retrieval database is
constructed.</p>
<p>We currently have two different datasets to work with: The GMI dataset and the
MHS dataset. The GMI dataset consists of co-located observations from the
Dual-Frequency Precipitation Radar (<a class="reference external" href="https://pmm.nasa.gov/GPM/flight-project/DPR">DPR</a>) and the GPM Microwave Imager
(<a class="reference external" href="https://pmm.nasa.gov/gpm/flight-project/gmi">GMI</a>) both flown on the GPM
Core Observatory satellite. The MHS dataset consists of simulated observations
from the Microwave humidity sounder (<a class="reference external" href="https://wdc.dlr.de/sensors/mhs/">MHS</a>)
onboard the MetOp-A satellites based on DPR measurements.</p>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>Although the data that we are using does not stem from an official product, it
the documentation for the GPM data products can be helpful. In particular the
algorithm theoretical basis document (ATBD) for the <a class="reference external" href="https://pmm.nasa.gov/sites/default/files/document_files/GPROF_ATBD_GPM_Aug1_2014.pdf">GPROF algorithm</a>
and the file format specification for all <a class="reference external" href="ftp://gpmweb2.pps.eosdis.nasa.gov/pub/GPMfilespec/filespec.GPM.pdf">GPM products</a> can be
helpful.</p>
</div>
<div class="section" id="training-data">
<h2>Training data<a class="headerlink" href="#training-data" title="Permalink to this headline">¶</a></h2>
<p>The input data consists of the observed brightness temperatures of each sensor
and three additional input variables. The ancillary information consists of
the surface type, the total column water vapor and the two-meter temperature.
In the GPROF algorithm the ancillary input data is used to preselect a retrieval
database. This means that, depending of the values of these three variables, a
different retrieval database with different a priori statistics is used.</p>
<p>Training and test data is available in the <code class="code docutils literal notranslate"><span class="pre">regn</span></code> project directory on
Dendrite in the <code class="code docutils literal notranslate"><span class="pre">data</span></code> subfolder. The data is stored as NetCDF4 file and
contains the following variables:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 51%" />
<col style="width: 13%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">year</span></code></p></td>
<td><p>the year</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">i4</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">month</span></code></p></td>
<td><p>the month</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">i4</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">day</span></code></p></td>
<td><p>the day</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">i4</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">hour</span></code></p></td>
<td><p>the hour</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">i4</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">minute</span></code></p></td>
<td><p>minute</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">i4</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">second</span></code></p></td>
<td><p>second</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">i4</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">latitude</span></code></p></td>
<td><p>Latitude of the pixel</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">f4</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">longitude</span></code></p></td>
<td><p>Longitude of the pixel</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">f4</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">brightness_temperature</span></code></p></td>
<td><p>The brightness temperatures for each channel</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">f4</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">surface_type</span></code></p></td>
<td><p>Surface type as class</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">i4</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">tcwv</span></code></p></td>
<td><p>Total column water vapor class</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">i4</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">t2m</span></code></p></td>
<td><p>Two-meter temperature class</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">i4</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">surface_precipitation</span></code></p></td>
<td><p>Surface precipitation</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">f4</span></code></p></td>
</tr>
</tbody>
</table>
<p>Note that <code class="code docutils literal notranslate"><span class="pre">tcwv</span></code>, <code class="code docutils literal notranslate"><span class="pre">t2m</span></code> and <code class="code docutils literal notranslate"><span class="pre">surface_type</span></code> are given not as continuous
variables but instead as discrete classes.</p>
<p><code class="code docutils literal notranslate"><span class="pre">surface_precipitation</span></code> is our retrieval target.</p>
</div>
<div class="section" id="surface-types">
<h2>Surface types<a class="headerlink" href="#surface-types" title="Permalink to this headline">¶</a></h2>
<p>Surface types are encoded as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>Class</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Ocean</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Sea-Ice</p></td>
</tr>
<tr class="row-even"><td><p>3-7</p></td>
<td><p>Decreasing vegetation</p></td>
</tr>
<tr class="row-odd"><td><p>8-11</p></td>
<td><p>Decreasing snow cover</p></td>
</tr>
<tr class="row-even"><td><p>12</p></td>
<td><p>Standing Water</p></td>
</tr>
<tr class="row-odd"><td><p>13</p></td>
<td><p>Land/ocean or water Coast</p></td>
</tr>
<tr class="row-even"><td><p>14</p></td>
<td><p>Sea-ice edge</p></td>
</tr>
<tr class="row-odd"><td><p>-99</p></td>
<td><p>Missing value</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="notebooks/examples/train_qrnn.html" class="btn btn-neutral float-right" title="Training a QRNN" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="overview.html" class="btn btn-neutral float-left" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Simon Pfreundschuh, Inderpreet Kaur, Patrick Eriksson

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>